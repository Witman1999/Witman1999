---
title: 三 路由算法及路由协议
date: 2019-11-2 15:05:00
tags: 网络层
categories: 计算机网络
copyright: true
---
# 介绍
路由器他自己本身会有这样一个路由表或者是转发表，只要有了这个表，只要通过这个表，我们就可以知道我们分组经过路由器之后接下来应该往哪走，也就是说我吓一跳应该往哪里去，所以可以看到这个路由表它是至关重要的，但是路由表当中的表象也就是它当中的每一行，这些是怎么得到的？  
  
其实就是靠路由算法来得到的。但是我们可以想象，如果这一个路由器他连着很多个路由器，它的下一条是不是有很多种方向，我们如何决定究竟是哪个方向？当然这个也是路由算法帮我们考虑到的，路由算法他会选择一个最佳路由，也就是说一个最好的路由方式，然后把这个路由方式添加到表当中。  

**最佳路由**： “最佳” 只能相对于某一种特定要求下得出的较为合理的选择而已。  

**转发表/路由表** 如下：

目的网络IP地址  | 子网掩码 | 下一跳IP地址|接口
---|---|---|---|

<!--more-->
# 路由算法的分类
## 静态路由算法（非自适应路由算法）
**管理员手工配置路由信息**
- **优点**
    -  简单，可靠，而且在拓扑变化不大的网络当中运行效果很好，广泛会应用于高度安全性的军事网络和较小的商业网络
- **缺点**
    - 路由更新慢，不适合用于大型网络
## 动态路由算法（自适应路由算法）
**路由器间彼此交换信息，按照路由算法优化出路由表项**
- **优点**
    -  路由更新靠，适合大型网络，及时响应链路费用或网络拓扑变化
- **缺点**
    - 算法复杂，增加网络负担

### 全局性
链路状态路由算法 **OSPF**  
所有路由器掌握完整的网络拓扑和链路费用信息
### 分散性
距离向量路由算法 **RIP**  
路由器只掌握物理相邻的邻居及链路费用  
## 分层次的路由选择协议
### 原因
- **因特网的规模很大**
- **许多单位不想让外界知道自己的路由选择协议，但是还想接入因特网**  
  
结合这两种原因，我们就产生了分层次路由协议。  
  
具体来说就是要把整个因特网分成很多个小的团体，这个小的团体我们称之为自治系统，一个单位其实就可以称之为一个自治系统，这个自治系统内他所使用的协议外部是完全不知道的，这样我们就可以尽量的减少每一个路由器它的一个表中的个数，同时还可以使一个自治系统内的这些路由器，他们所使用的协议对于外界来说是透明的，就说外界根本不清楚他们内部一个自治系统内使用了什么样的协议。那我们看这个自治系统的一个定义

**自治系统 AS**：  
在单一的技术管理下的一组路由器，而这些路由器会使用一种 **AS** 内部的路由选择协议和共同的度量已确定分组在该 **AS** 内的路由，同时还使用一种 **AS** 之间的路由协议以确定在 **AS** 之间的路由。   
每一个 **AS** 内所有网络都属于一个行政单位来管辖，一个自治系统的所有路由器在本 **AS** 自治系统内都应该要保持联通的状态。  
### 路由选择协议
![image](https://note.youdao.com/yws/public/resource/359e08a52f64deaac553adb0132327ad/xmlnote/653747D7765648249F984B2CAEBD9BE5/14171)
#### 内部网关协议 IGP
**一个 AS 内使用的** **RIP** **OSPF**
#### 外部网关协议 EGP 
**AS 之间使用的**  **BGP** 